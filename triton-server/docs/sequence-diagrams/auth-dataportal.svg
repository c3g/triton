<svg xmlns="http://www.w3.org/2000/svg" width="1782.2734375px" height="1083.3875045776367px" class="sequence simple"><desc>Hercules Data Portal Login Sequence</desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"/></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"/></marker></defs><g class="title"><rect x="10" y="10" width="346.0625" height="28.21875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="15" y="30" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="15">Hercules Data Portal Login Sequence</tspan></text></g><g class="actor"><rect x="10" y="48.21875" width="58.40625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="20" y="73.21875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">User</tspan></text></g><g class="actor"><rect x="10" y="1025.3875045776367" width="58.40625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="20" y="1050.3875045776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="20">User</tspan></text></g><line x1="39.203125" x2="39.203125" y1="86.21875" y2="1025.3875045776367" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="217.234375" y="48.21875" width="164.03125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="227.234375" y="73.21875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="227.234375">Hercules Client</tspan></text></g><g class="actor"><rect x="217.234375" y="1025.3875045776367" width="164.03125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="227.234375" y="1050.3875045776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="227.234375">Hercules Client</tspan></text></g><line x1="299.25" x2="299.25" y1="86.21875" y2="1025.3875045776367" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="516.875" y="48.21875" width="164.03125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="526.875" y="73.21875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="526.875">Hercules Server</tspan></text></g><g class="actor"><rect x="516.875" y="1025.3875045776367" width="164.03125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="526.875" y="1050.3875045776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="526.875">Hercules Server</tspan></text></g><line x1="598.890625" x2="598.890625" y1="86.21875" y2="1025.3875045776367" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="835.7265625" y="48.21875" width="144.828125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="845.7265625" y="73.21875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="845.7265625">Triton Server</tspan></text></g><g class="actor"><rect x="835.7265625" y="1025.3875045776367" width="144.828125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="845.7265625" y="1050.3875045776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="845.7265625">Triton Server</tspan></text></g><line x1="908.140625" x2="908.140625" y1="86.21875" y2="1025.3875045776367" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="actor"><rect x="1164.1796875" y="48.21875" width="144.828125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1174.1796875" y="73.21875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1174.1796875">Triton Client</tspan></text></g><g class="actor"><rect x="1164.1796875" y="1025.3875045776367" width="144.828125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1174.1796875" y="1050.3875045776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1174.1796875">Triton Client</tspan></text></g><line x1="1236.59375" x2="1236.59375" y1="86.21875" y2="1025.3875045776367" stroke="#000000" fill="none" style="stroke-width: 2;"/><g class="signal"><text x="49.203125" y="117.21875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="49.203125">Clicks Data Portal button</tspan></text><line x1="39.203125" x2="299.25" y1="124.21875" y2="124.21875" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="319.25" y="144.21875" width="259.640625" height="47.20000076293945" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="324.25" y="164.21875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="324.25">Hercules passes user id</tspan><tspan dy="1.2em" x="324.25">and token in URL to Triton</tspan></text></g><g class="signal"><text x="397.2578125" y="222.30937576293945" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="397.2578125">Redirects to Triton magic-callback endpoint</tspan></text><line x1="299.25" x2="908.140625" y1="229.63750076293945" y2="229.63750076293945" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="928.140625" y="249.63750076293945" width="259.640625" height="47.20000076293945" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="933.140625" y="269.63750076293945" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="933.140625">Creates session and stores</tspan><tspan dy="1.2em" x="933.140625">userID and token</tspan></text></g><g class="signal"><text x="933.140625" y="330.8375015258789" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="933.140625">Create session</tspan></text><line x1="908.140625" x2="928.140625" y1="316.8375015258789" y2="316.8375015258789" stroke="#000000" fill="none" style="stroke-width: 2;"/><line x1="928.140625" x2="928.140625" y1="316.8375015258789" y2="339.8375015258789" stroke="#000000" fill="none" style="stroke-width: 2;"/><line x1="928.140625" x2="908.140625" y1="339.8375015258789" y2="339.8375015258789" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="928.140625" y="354.8375015258789" width="230.84375" height="47.20000076293945" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="933.140625" y="374.8375015258789" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="933.140625">Triton Server</tspan><tspan dy="1.2em" x="933.140625">redirects to client "/"</tspan></text></g><g class="signal"><text x="1000.3515625" y="433.03750228881836" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1000.3515625">Redirect to "/"</tspan></text><line x1="908.140625" x2="1236.59375" y1="440.03750228881836" y2="440.03750228881836" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="1033.765625" y="460.03750228881836" width="182.828125" height="47.41875076293945" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="1038.765625" y="480.03750228881836" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1038.765625">Client asks server</tspan><tspan dy="1.2em" x="1038.765625">if logged in</tspan></text></g><g class="signal"><text x="1024.359375" y="538.3468780517578" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1024.359375">isLoggedIn</tspan></text><line x1="1236.59375" x2="908.140625" y1="545.6750030517578" y2="545.6750030517578" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="928.140625" y="565.6750030517578" width="221.234375" height="47.20000076293945" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="933.140625" y="585.6750030517578" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="933.140625">Server gets userID</tspan><tspan dy="1.2em" x="933.140625">and token from session</tspan></text></g><g class="signal"><text x="933.140625" y="646.9843788146973" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="933.140625">Get login from session</tspan></text><line x1="908.140625" x2="928.140625" y1="632.8750038146973" y2="632.8750038146973" stroke="#000000" fill="none" style="stroke-width: 2;"/><line x1="928.140625" x2="928.140625" y1="632.8750038146973" y2="656.0937538146973" stroke="#000000" fill="none" style="stroke-width: 2;"/><line x1="928.140625" x2="908.140625" y1="656.0937538146973" y2="656.0937538146973" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="618.890625" y="671.0937538146973" width="269.25" height="47.41875076293945" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="623.890625" y="691.0937538146973" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="623.890625">Triton asks Hercules server</tspan><tspan dy="1.2em" x="623.890625">for login and user details</tspan></text></g><g class="signal"><text x="686.3046875" y="749.4031295776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="686.3046875">getUserDetails</tspan></text><line x1="908.140625" x2="598.890625" y1="756.7312545776367" y2="756.7312545776367" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="695.90625" y="787.7312545776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="695.90625">user details</tspan></text><line x1="598.890625" x2="908.140625" y1="794.7312545776367" y2="794.7312545776367" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="928.140625" y="814.7312545776367" width="288.453125" height="28.21875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="933.140625" y="834.7312545776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="933.140625">Server replies with user info</tspan></text></g><g class="signal"><text x="1000.3515625" y="873.8406295776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1000.3515625">user login info</tspan></text><line x1="908.140625" x2="1236.59375" y1="881.1687545776367" y2="881.1687545776367" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="signal"><text x="1261.59375" y="915.2781295776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1261.59375">Client stores user details and login state</tspan></text><line x1="1236.59375" x2="1256.59375" y1="901.1687545776367" y2="901.1687545776367" stroke="#000000" fill="none" style="stroke-width: 2;"/><line x1="1256.59375" x2="1256.59375" y1="901.1687545776367" y2="924.3875045776367" stroke="#000000" fill="none" style="stroke-width: 2;"/><line x1="1256.59375" x2="1236.59375" y1="924.3875045776367" y2="924.3875045776367" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g><g class="note"><rect x="937.75" y="939.3875045776367" width="278.84375" height="28" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"/><text x="942.75" y="959.3875045776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="942.75">Client initializes user data</tspan></text></g><g class="signal"><text x="1005.15625" y="998.3875045776367" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="1005.15625">Load user data</tspan></text><line x1="1236.59375" x2="908.140625" y1="1005.3875045776367" y2="1005.3875045776367" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"/></g></svg>